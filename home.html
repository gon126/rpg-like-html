<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Souls-Like Box RPG - Home</title>
<style>
    /* --- USER'S ANIMATED STYLING --- */
    body {
        margin: 0;
        background: radial-gradient(circle at center, #1a1a1a, #000);
        color: #fff;
        font-family: monospace;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        overflow: hidden;
    }

    .container {
        background: rgba(0,0,0,0.55);
        padding: 40px 60px;
        border-radius: 16px;
        border: 2px solid #333;
        box-shadow: 0 0 30px rgba(0,0,0,0.7);
        text-align: center;
        backdrop-filter: blur(6px);
        animation: fadeIn 1s ease-out;
        display: flex; /* Added for layout flexibility */
        flex-direction: column;
        align-items: center;
    }

    h1 {
        margin-bottom: 20px;
        font-size: 40px;
        color: #0ff;
        text-shadow: 0 0 10px #0ff;
        animation: glow 2s infinite alternate;
    }

    @keyframes glow {
        0% { text-shadow: 0 0 8px #0ff; }
        100% { text-shadow: 0 0 20px #0ff; }
    }

    input, select {
        width: 250px;
        font-size: 18px;
        padding: 10px;
        margin: 12px 0;
        border-radius: 6px;
        border: none;
        outline: none;
        background: #222;
        color: #0ff;
        border: 2px solid #0ff;
        transition: 0.3s;
    }

    input:focus, select:focus {
        box-shadow: 0 0 10px #0ff;
        background: #111;
    }

    button {
        width: 250px;
        padding: 12px;
        font-size: 20px;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        background: #0ff;
        color: #000;
        font-weight: bold;
        margin-top: 15px;
        transition: 0.3s;
    }

    button:hover {
        background: #00bcd4;
        box-shadow: 0 0 12px #0ff;
        transform: scale(1.05);
    }

    .floating {
        position: absolute;
        font-size: 18px;
        pointer-events: none;
        opacity: 0.2;
        animation: float 5s infinite linear;
        color: #0ff; /* Added color for visibility */
    }

    @keyframes float {
        0% { transform: translateY(0); }
        50% { transform: translateY(-30px); } /* Adjusted for smoother movement */
        100% { transform: translateY(0); }
    }
    
    @keyframes fadeIn {
        0% { opacity: 0; transform: translateY(20px); }
        100% { opacity: 1; transform: translateY(0); }
    }

    /* --- LIVE STATS STYLING --- */
    #classDescription {
        margin-top: 20px;
        padding: 15px;
        border: 1px solid #0ff;
        border-radius: 6px;
        width: 300px;
        text-align: left;
        background: #0a0a0a; /* Darker background for contrast */
        font-size: 16px;
        box-shadow: 0 0 8px rgba(0, 255, 255, 0.5);
    }
    #classDescription h3 {
        color: #00ffaa;
        margin-top: 0;
        border-bottom: 1px dashed #0ff;
        padding-bottom: 5px;
        text-align: center;
    }
    .stat-line {
        margin-bottom: 5px;
    }
    .good-stat { color: #00ff00; } /* Green for good stats */
    .bad-stat { color: #ff0000; } /* Red for bad stats */
    
    /* Make the entire content scrollable if the screen is too small */
    html, body {
        height: 100%;
    }
    
</style>
</head>
<body>

<div class="container">
    <h1>Souls-Like Box RPG</h1>

    <input id="nameInput" type="text" placeholder="Enter your name" autocomplete="off" />

    <select id="classSelect" onchange="updateClassDescription()">
        <option value="Ranger" data-desc="The standard, balanced starting profile. Good for beginners.">Ranger</option>
        <option value="Gunner" data-desc="Fast firing, lower damage, excellent for crowd control.">Gunner</option>
        <option value="Brawler" data-desc="High damage, high HP, but very slow movement and firing.">Brawler</option>
        <option value="Acolyte" data-desc="Balanced stats with a minor starting health regeneration bonus.">Acolyte</option>
        <option value="Sniper" data-desc="Extremely high damage and bullet speed, offset by a very long cooldown.">Sniper</option>
        <option value="Scout" data-desc="Highest movement speed for dodging, decent fire rate, low damage.">Scout</option>
        <option value="Engineer" data-desc="Lowest damage but the fastest fire rate, excellent for early upgrades.">Engineer</option>
        <option value="Templar" data-desc="Highest starting HP pool, moderate damage, very slow firing.">Templar</option>
        <option value="Berserker" data-desc="Massive damage, agonizingly slow cooldown, low max HP.">Berserker</option>
        <option value="Warlock" data-desc="Focus on life recovery with good damage and substantial health regen.">Warlock</option>
        <option value="Summoner" data-desc="High HP, fast fire, low damage. Relies on supporting abilities (pets/debuffs) later.">Summoner</option>
        <option value="Paladin" data-desc="Highest base HP regen, very high max HP, but slowest movement. A defensive tank.">Paladin</option>
        <option value="Revenant" data-desc="Very high damage and speed, but extremely low HP and no regen. High risk, high reward.">Revenant</option>
    </select>

    <select id="difficultySelect">
        <option value="easy">Easy</option>
        <option value="medium" selected>Medium</option>
        <option value="hard">Hard</option>
    </select>

    <button onclick="startGame()">Start Game</button>
    
    <div id="classDescription">
        </div>
</div>

<script>
// --- FLOATING ANIMATION SCRIPT ---
const faces = ["^_^", ":)", "x_x", ";P", "O_O", ">_<"];
for (let i = 0; i < 20; i++) {
    let f = document.createElement("div");
    f.className = "floating";
    f.innerText = faces[Math.floor(Math.random() * faces.length)];
    f.style.left = Math.random() * 100 + "vw";
    f.style.top = Math.random() * 100 + "vh";
    f.style.animationDuration = (4 + Math.random() * 4) + "s";
    f.style.animationDelay = (Math.random() * -4) + "s"; /* Start at random point in animation */
    document.body.appendChild(f);
}

// --- LIVE UI LOGIC (from previous step) ---

function getClassStats(className) {
    let stats = {
        movementSpeed: 4,
        damage: 20,
        regen: 0, 
        bulletSpeed: 100,
        shootCooldown: 15, // in frames
        maxHp: 100,
    };

    switch(className) {
        case "Gunner": 
            stats.damage = 15; 
            stats.shootCooldown = 5; 
            stats.bulletSpeed = 120;
            break;
        case "Brawler": 
            stats.damage = 35; 
            stats.movementSpeed = 3; 
            stats.maxHp = 120;
            stats.shootCooldown = 20; 
            break;
        case "Acolyte": 
            stats.damage = 18; 
            stats.regen = 0.1 / 60; // 0.1 HP per second
            stats.maxHp = 110;
            break;
        case "Sniper":
            stats.damage = 50; 
            stats.shootCooldown = 40; 
            stats.bulletSpeed = 180;
            break;
        case "Scout":
            stats.movementSpeed = 6; 
            stats.damage = 15;
            stats.shootCooldown = 12;
            break;
        case "Engineer":
            stats.damage = 10; 
            stats.shootCooldown = 4;
            stats.bulletSpeed = 90;
            break;
        case "Templar":
            stats.maxHp = 150; 
            stats.movementSpeed = 3.5;
            stats.damage = 25;
            stats.shootCooldown = 25;
            break;
        case "Ranger":
            // Balanced (default)
            break;
        case "Berserker":
            stats.damage = 60; 
            stats.shootCooldown = 60;
            stats.maxHp = 90;
            break;
        case "Warlock":
            stats.damage = 22; 
            stats.regen = 0.2 / 60;
            stats.shootCooldown = 18;
            break;
        
        // --- NEW CLASSES STATS ---
        case "Summoner":
            stats.maxHp = 120; 
            stats.movementSpeed = 3.5; 
            stats.damage = 15; 
            stats.shootCooldown = 10; 
            stats.regen = 0.1 / 60;
            break;
        case "Paladin":
            stats.maxHp = 140; 
            stats.movementSpeed = 3.0; 
            stats.damage = 25; 
            stats.shootCooldown = 15; 
            stats.regen = 0.3 / 60;
            break;
        case "Revenant":
            stats.maxHp = 80; 
            stats.movementSpeed = 5.5; 
            stats.damage = 50; 
            stats.shootCooldown = 8; 
            stats.regen = 0; // No regen
            break;
    }

    return stats;
}

function updateClassDescription() {
    const select = document.getElementById("classSelect");
    const className = select.value;
    const description = select.options[select.selectedIndex].getAttribute('data-desc');
    const stats = getClassStats(className);
    const container = document.getElementById("classDescription");

    // Helper to format regen from per-frame to per-second
    const regenPerSecond = (stats.regen * 60).toFixed(2);
    
    // Determine the color class for movement speed (Higher is better)
    const speedColor = stats.movementSpeed >= 4.5 ? 'good-stat' : (stats.movementSpeed <= 3.5 ? 'bad-stat' : '');
    
    // Determine the color class for damage (Higher is better)
    const damageColor = stats.damage >= 30 ? 'good-stat' : (stats.damage <= 15 ? 'bad-stat' : '');
    
    // Determine the color class for cooldown (Lower is better)
    // 15 frames is base, <10 is good, >20 is bad
    const cooldownColor = stats.shootCooldown <= 10 ? 'good-stat' : (stats.shootCooldown >= 20 ? 'bad-stat' : '');

    // Determine the color class for max HP (Higher is better)
    const hpColor = stats.maxHp >= 110 ? 'good-stat' : (stats.maxHp <= 90 ? 'bad-stat' : '');
    
    // Determine the color class for regen (Higher is better)
    const regenColor = regenPerSecond > 0.1 ? 'good-stat' : (regenPerSecond > 0 ? '' : 'bad-stat');


    container.innerHTML = `
        <h3>${className} Class Stats</h3>
        <p>${description}</p>
        <div class="stat-line">Max HP: <span class="${hpColor}">${stats.maxHp}</span></div>
        <div class="stat-line">Movement Speed: <span class="${speedColor}">${stats.movementSpeed}</span></div>
        <div class="stat-line">Damage: <span class="${damageColor}">${stats.damage}</span></div>
        <div class="stat-line">Fire Cooldown: <span class="${cooldownColor}">${stats.shootCooldown} Frames</span></div>
        <div class="stat-line">Bullet Speed: <span>${stats.bulletSpeed}</span></div>
        <div class="stat-line">HP Regen: <span class="${regenColor}">${regenPerSecond} / sec</span></div>
    `;
}

// --- START GAME LOGIC (from previous step) ---
function startGame() {
    const name =   document.getElementById("nameInput").value.trim();
    const difficulty = document.getElementById("difficultySelect").value;
    const playerClass = document.getElementById("classSelect").value;

    if(!name) {
        alert("Please enter your name!");
        return;
    }

    let url = "game.html?difficulty=" + difficulty + "&class=" + playerClass;
    
    // Hardcore/Birthday logic from previous steps
    const hardcoreNames = ["eliad ben ilay", "nehorai"];
    
    if(["ofir", "eliad ben ilay", "nehorai", "maya", "efrat"].includes(name.toLowerCase())) {
        url += "&birthday=true";
    }
    if(hardcoreNames.includes(name.toLowerCase())) {
        url += "&hardcore=true";
    } else {
        url += "&name=" + encodeURIComponent(name); 
    }
    
    window.location.href = url;
}


// Initialize on load
document.addEventListener('DOMContentLoaded', updateClassDescription);

</script>
</body>
</html>